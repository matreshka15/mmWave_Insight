# ç›®æ ‡æ£€æµ‹ç®—æ³•

!!! abstract "ç« èŠ‚æ¦‚è¿°"
    ç›®æ ‡æ£€æµ‹æ˜¯æ¯«ç±³æ³¢é›·è¾¾ä¿¡å·å¤„ç†çš„å…³é”®ç¯èŠ‚ï¼Œå®ƒä» Range-Doppler Map ä¸­è¯†åˆ«çœŸå®ç›®æ ‡ï¼Œæå–ç›®æ ‡å‚æ•°ï¼ˆè·ç¦»ã€é€Ÿåº¦ã€è§’åº¦ã€RCSï¼‰ï¼Œå¹¶å»ºç«‹ç›®æ ‡è·Ÿè¸ªã€‚æœ¬ç« å°†æ·±å…¥æ¢è®¨ç°ä»£æ¯«ç±³æ³¢é›·è¾¾ä¸­ä½¿ç”¨çš„ä¸»è¦ç›®æ ‡æ£€æµ‹ç®—æ³•ã€‚

    ğŸ“š **æœ¬ç« å­¦ä¹ è·¯çº¿**ï¼š

    1. ğŸ¯ ç†è§£ç›®æ ‡æ£€æµ‹çš„åŸºæœ¬æµç¨‹
    2. ğŸ” æŒæ¡ CFAR æ£€æµ‹ç®—æ³•å˜ä½“
    3. ğŸ“¦ å­¦ä¹ ç›®æ ‡èšç±»æ–¹æ³•
    4. ğŸ›¤ï¸ ç†è§£ç›®æ ‡è·Ÿè¸ªç®—æ³•
    5. ğŸ“ æŒæ¡è§’åº¦ä¼°è®¡æŠ€æœ¯ï¼ˆDOAï¼‰

    â±ï¸ **é¢„è®¡æ—¶é—´**ï¼š60-70 åˆ†é’Ÿ

!!! tip "å‰ç½®çŸ¥è¯†"
    å­¦ä¹ æœ¬ç« å‰å»ºè®®å…ˆäº†è§£ï¼š

    - ğŸ“Š [ä¿¡å·å¤„ç†æŠ€æœ¯](signal-processing.md)
    - ğŸ“¡ [FMCW è°ƒåˆ¶åŸç†](fmcw.md)
    - ğŸ“ˆ æ¦‚ç‡è®ºä¸ç»Ÿè®¡åŸºç¡€
    - ğŸ”¢ çŸ©é˜µè¿ç®—åŸºç¡€

---

## ğŸ¯ ç›®æ ‡æ£€æµ‹æµç¨‹æ¦‚è§ˆ

### å®Œæ•´å¤„ç†é“¾

```mermaid
graph TD
    A[ğŸ“Š Range-Doppler Map] --> B[ğŸšï¸ CFAR æ£€æµ‹]
    B --> C[ğŸ“ å³°å€¼æå–]
    C --> D[ğŸ“¦ ç›®æ ‡èšç±»]
    D --> E[ğŸ“ è§’åº¦ä¼°è®¡<br/>DOA]
    E --> F[âœ… åŸå§‹ç›®æ ‡åˆ—è¡¨]
    F --> G[ğŸ›¤ï¸ ç›®æ ‡è·Ÿè¸ª]
    G --> H[ğŸ¯ æœ€ç»ˆç›®æ ‡åˆ—è¡¨]
    H --> I[ğŸ“¤ è¾“å‡º<br/>è·ç¦»/é€Ÿåº¦/è§’åº¦]

    style A fill:#ff6b6b
    style F fill:#4dabf7
    style I fill:#51cf66
```

### å…³é”®æ­¥éª¤è¯´æ˜

!!! info "å„æ­¥éª¤ä½œç”¨"
    | æ­¥éª¤ | è¾“å…¥ | è¾“å‡º | ä½œç”¨ |
    |------|------|------|------|
    | CFAR æ£€æµ‹ | Range-Doppler Map | äºŒå€¼æ£€æµ‹å›¾ | åŒºåˆ†ç›®æ ‡å’Œå™ªå£° |
    | å³°å€¼æå– | æ£€æµ‹å›¾ | å³°å€¼ä½ç½®åˆ—è¡¨ | å®šä½ç›®æ ‡ |
    | ç›®æ ‡èšç±» | å³°å€¼åˆ—è¡¨ | èšç±»åçš„ç›®æ ‡ | åˆå¹¶åŒä¸€ç›®æ ‡çš„å¤šä¸ªæ£€æµ‹ç‚¹ |
    | è§’åº¦ä¼°è®¡ | å¤šå¤©çº¿æ•°æ® | è§’åº¦ä¿¡æ¯ | ç¡®å®šç›®æ ‡æ–¹ä½ |
    | ç›®æ ‡è·Ÿè¸ª | å½“å‰å¸§ç›®æ ‡ + å†å²è½¨è¿¹ | è·Ÿè¸ªè½¨è¿¹ | é¢„æµ‹ç›®æ ‡è¿åŠ¨ |

---

## ğŸšï¸ CFAR æ£€æµ‹ç®—æ³•è¯¦è§£

### CA-CFAR å›é¡¾

!!! info "å•å…ƒå¹³å‡ CFARï¼ˆCell-Averaging CFARï¼‰"
    **åŸºæœ¬åŸç†**ï¼šä½¿ç”¨å‘¨å›´å•å…ƒçš„å¹³å‡å€¼ä¼°è®¡å™ªå£°ç”µå¹³

    **ä¼˜ç‚¹**ï¼š
    - âœ… å®ç°ç®€å•
    - âœ… è®¡ç®—é‡å°
    - âœ… å‡åŒ€å™ªå£°ç¯å¢ƒæ€§èƒ½å¥½

    **ç¼ºç‚¹**ï¼š
    - âŒ å¤šç›®æ ‡ç¯å¢ƒæ€§èƒ½ä¸‹é™
    - âŒ æ‚æ³¢è¾¹ç¼˜è™šè­¦ç‡é«˜
    - âŒ é‚»è¿‘ç›®æ ‡äº’ç›¸é®è”½

### GO-CFAR ç®—æ³•

!!! success "æœ€å¤§é€‰æ‹© CFARï¼ˆGreatest Of CFARï¼‰"
    **åŸç†**ï¼šé€‰æ‹©å·¦å³çª—å£ä¸­è¾ƒå¤§çš„å™ªå£°ä¼°è®¡å€¼

    **ç®—æ³•**ï¼š
    $$
    Z_{\text{left}} = \frac{1}{N_{\text{train}}} \sum_{\text{å·¦ä¾§}} x_i
    $$
    $$
    Z_{\text{right}} = \frac{1}{N_{\text{train}}} \sum_{\text{å³ä¾§}} x_i
    $$
    $$
    Z = \max(Z_{\text{left}}, Z_{\text{right}})
    $$
    $$
    T = \alpha \cdot Z
    $$

    **ä¼˜ç‚¹**ï¼š
    - âœ… å¤šç›®æ ‡åœºæ™¯æ€§èƒ½å¥½
    - âœ… å‡å°‘é‚»è¿‘ç›®æ ‡å¹²æ‰°
    - âœ… è™šè­¦ç‡ç¨³å®š

    **ç¼ºç‚¹**ï¼š
    - âŒ æ£€æµ‹æ¦‚ç‡ç•¥æœ‰ä¸‹é™
    - âŒ å°ºåº¦å› å­éœ€è¦è°ƒæ•´

    **é€‚ç”¨åœºæ™¯**ï¼š
    - ğŸš— å¯†é›†äº¤é€šåœºæ™¯
    - ğŸ‘¥ å¤šç›®æ ‡ç¯å¢ƒ
    - ğŸ™ï¸ åŸå¸‚é“è·¯

### SO-CFAR ç®—æ³•

!!! info "æœ€å°é€‰æ‹© CFARï¼ˆSmallest Of CFARï¼‰"
    **åŸç†**ï¼šé€‰æ‹©å·¦å³çª—å£ä¸­è¾ƒå°çš„å™ªå£°ä¼°è®¡å€¼

    **ç®—æ³•**ï¼š
    $$
    Z = \min(Z_{\text{left}}, Z_{\text{right}})
    $$
    $$
    T = \alpha \cdot Z
    $$

    **ä¼˜ç‚¹**ï¼š
    - âœ… æ‚æ³¢è¾¹ç¼˜æ€§èƒ½å¥½
    - âœ… è™šè­¦ç‡ä½
    - âœ… é€‚åº”éå‡åŒ€èƒŒæ™¯

    **ç¼ºç‚¹**ï¼š
    - âŒ æ£€æµ‹æ¦‚ç‡é™ä½
    - âŒ å¼±ç›®æ ‡å®¹æ˜“æ¼æ£€

    **é€‚ç”¨åœºæ™¯**ï¼š
    - ğŸŒ³ æ‚æ³¢è¾¹ç¼˜
    - ğŸŒŠ éå‡åŒ€ç¯å¢ƒ
    - ğŸ“‰ ä½è™šè­¦è¦æ±‚

### OS-CFAR ç®—æ³•

!!! success "æœ‰åºç»Ÿè®¡ CFARï¼ˆOrdered Statistic CFARï¼‰"
    **åŸç†**ï¼šå¯¹è®­ç»ƒå•å…ƒæ’åºï¼Œé€‰æ‹©ç¬¬ k å¤§çš„å€¼ä½œä¸ºå™ªå£°ä¼°è®¡

    **ç®—æ³•æ­¥éª¤**ï¼š

    1. **æ”¶é›†è®­ç»ƒå•å…ƒ**ï¼š$\{x_1, x_2, ..., x_{2N_{\text{train}}}\}$

    2. **æ’åº**ï¼š$x_{(1)} \leq x_{(2)} \leq ... \leq x_{(2N_{\text{train}})}$

    3. **é€‰æ‹©ç¬¬ k å¤§å€¼**ï¼š
       $$
       Z = x_{(k)}
       $$
       å…¶ä¸­ $k = \lfloor 0.75 \times 2N_{\text{train}} \rfloor$ï¼ˆå…¸å‹å€¼ï¼‰

    4. **è®¡ç®—é—¨é™**ï¼š
       $$
       T = \alpha \cdot Z
       $$

    **å‚æ•°é€‰æ‹©**ï¼š

    | k çš„é€‰æ‹© | ç‰¹æ€§ | é€‚ç”¨åœºæ™¯ |
    |---------|------|---------|
    | $k = 0.5 \times 2N$ | ç±»ä¼¼ä¸­å€¼æ»¤æ³¢ | å¼ºå¹²æ‰°ç¯å¢ƒ |
    | $k = 0.75 \times 2N$ | å¹³è¡¡æ€§èƒ½ | é€šç”¨åœºæ™¯ |
    | $k = N$ | ç±»ä¼¼ CA-CFAR | å‡åŒ€ç¯å¢ƒ |

    **ä¼˜ç‚¹**ï¼š
    - âœ… æŠ—å¹²æ‰°èƒ½åŠ›å¼º
    - âœ… å¤šç›®æ ‡æ€§èƒ½å¥½
    - âœ… é€‚åº”å„ç§ç¯å¢ƒ

    **ç¼ºç‚¹**ï¼š
    - âŒ è®¡ç®—é‡è¾ƒå¤§ï¼ˆéœ€è¦æ’åºï¼‰
    - âŒ å‚æ•° k éœ€è¦è°ƒæ•´

### 2D-CFAR

!!! warning "äºŒç»´ CFAR"
    **åŠ¨æœº**ï¼šRange-Doppler Map æ˜¯äºŒç»´çš„ï¼Œä¸€ç»´ CFAR å¯èƒ½ä¸å¤Ÿ

    **æ–¹æ³•**ï¼š

    === "ğŸ“Š åˆ†ç¦»å¼ 2D-CFAR"
        **æ­¥éª¤**ï¼š
        1. å¯¹è·ç¦»ç»´è¿›è¡Œ CFAR
        2. å¯¹é€Ÿåº¦ç»´è¿›è¡Œ CFAR
        3. å–ä¸¤è€…çš„äº¤é›†

        **ä¼˜ç‚¹**ï¼šè®¡ç®—é‡å°
        **ç¼ºç‚¹**ï¼šæ€§èƒ½æ¬¡ä¼˜

    === "ğŸ”² çœŸæ­£çš„ 2D-CFAR"
        **æ­¥éª¤**ï¼š
        ä½¿ç”¨äºŒç»´çª—å£è¿›è¡Œå™ªå£°ä¼°è®¡

        ```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  â— â— â— â— â— â— â—  â”‚
        â”‚  â— â”Œâ”€â”€â”€â”€â”€â” â—  â”‚
        â”‚  â— â”‚     â”‚ â—  â”‚  è®­ç»ƒå•å…ƒ
        â”‚  â— â”‚ ğŸ¯  â”‚ â—  â”‚  æµ‹è¯•å•å…ƒ
        â”‚  â— â”‚     â”‚ â—  â”‚  ä¿æŠ¤å•å…ƒ
        â”‚  â— â””â”€â”€â”€â”€â”€â”˜ â—  â”‚
        â”‚  â— â— â— â— â— â— â—  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        ```

        **ä¼˜ç‚¹**ï¼šæ€§èƒ½æœ€ä¼˜
        **ç¼ºç‚¹**ï¼šè®¡ç®—é‡å¤§

### CFAR æ€§èƒ½å¯¹æ¯”

!!! info "ç®—æ³•å¯¹æ¯”"
    | ç®—æ³• | è®¡ç®—é‡ | å¤šç›®æ ‡ | æ‚æ³¢è¾¹ç¼˜ | å‡åŒ€ç¯å¢ƒ | æ¨èåº¦ |
    |------|--------|--------|---------|---------|--------|
    | CA-CFAR | ä½ | â­â­ | â­â­ | â­â­â­â­â­ | â­â­â­ |
    | GO-CFAR | ä½ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­ | â­â­â­â­ |
    | SO-CFAR | ä½ | â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­ |
    | OS-CFAR | ä¸­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
    | 2D-CFAR | é«˜ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ |

---

## ğŸ“ å³°å€¼æå–ä¸ç»†åŒ–

### ç®€å•å³°å€¼æå–

!!! info "åŸºæœ¬æ–¹æ³•"
    **æ­¥éª¤**ï¼š

    1. **äºŒå€¼åŒ–**ï¼šCFAR æ£€æµ‹åå¾—åˆ°äºŒå€¼å›¾
       $$
       \text{Det}[i, j] = \begin{cases}
       1, & \text{if } S[i,j] > T[i,j] \\
       0, & \text{otherwise}
       \end{cases}
       $$

    2. **æå–åæ ‡**ï¼šæ‰¾åˆ°æ‰€æœ‰æ£€æµ‹ç‚¹çš„åæ ‡
       $$
       \text{Peaks} = \{(i, j) \mid \text{Det}[i, j] = 1\}
       $$

    3. **è½¬æ¢å‚æ•°**ï¼š
       - è·ç¦»ï¼š$R[i] = i \cdot \Delta R$
       - é€Ÿåº¦ï¼š$v[j] = (j - M/2) \cdot \Delta v$
       - å¹…åº¦ï¼š$A[i,j] = S[i,j]$

### å³°å€¼ç»†åŒ–ï¼ˆPeak Refinementï¼‰

!!! success "æé«˜æµ‹é‡ç²¾åº¦"
    **é—®é¢˜**ï¼šFFT çš„é¢‘ç‡åˆ†è¾¨ç‡æœ‰é™ï¼Œå³°å€¼å¯èƒ½ä¸åœ¨ FFT bin çš„ä¸­å¿ƒ

    **è§£å†³æ–¹æ¡ˆ**ï¼šæ’å€¼ç»†åŒ–

    === "ğŸ“ æŠ›ç‰©çº¿æ’å€¼"
        **åŸç†**ï¼šä½¿ç”¨å³°å€¼ç‚¹åŠå…¶é‚»è¿‘ç‚¹æ‹ŸåˆæŠ›ç‰©çº¿

        **å…¬å¼**ï¼šå¯¹äºå³°å€¼ä½ç½® $k$ï¼š
        $$
        \delta = \frac{1}{2} \cdot \frac{|S[k+1]| - |S[k-1]|}{2|S[k]| - |S[k+1]| - |S[k-1]|}
        $$

        **ç»†åŒ–åçš„ä½ç½®**ï¼š
        $$
        k_{\text{refined}} = k + \delta
        $$

        **ç²¾åº¦æå‡**ï¼šä» FFT bin ç²¾åº¦æå‡åˆ°çº¦ 1/10 bin

    === "ğŸ“Š è´¨å¿ƒæ³•"
        **åŸç†**ï¼šä½¿ç”¨åŠ æƒå¹³å‡

        **å…¬å¼**ï¼š
        $$
        k_{\text{refined}} = \frac{\sum_{i=k-1}^{k+1} i \cdot |S[i]|}{\sum_{i=k-1}^{k+1} |S[i]|}
        $$

        **ä¼˜ç‚¹**ï¼šç®€å•ï¼Œå™ªå£°é²æ£’æ€§å¥½
        **ç¼ºç‚¹**ï¼šç²¾åº¦ç•¥ä½äºæŠ›ç‰©çº¿æ’å€¼

### å¤šå³°åˆå¹¶

!!! warning "å¤„ç†ç›¸é‚»å³°å€¼"
    **é—®é¢˜**ï¼šåŒä¸€ç›®æ ‡å¯èƒ½äº§ç”Ÿå¤šä¸ªç›¸é‚»çš„æ£€æµ‹ç‚¹

    **è§£å†³æ–¹æ¡ˆ**ï¼š

    1. **å±€éƒ¨æœ€å¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰**ï¼š
       - åœ¨ 3Ã—3 æˆ– 5Ã—5 çª—å£å†…
       - åªä¿ç•™æœ€å¤§å€¼
       - æŠ‘åˆ¶é‚»è¿‘çš„æ¬¡å¤§å€¼

    2. **å³°å€¼åˆå¹¶**ï¼š
       - è·ç¦» < é˜ˆå€¼çš„å³°å€¼
       - åˆå¹¶ä¸ºä¸€ä¸ªç›®æ ‡
       - ä½¿ç”¨åŠ æƒå¹³å‡è®¡ç®—æœ€ç»ˆä½ç½®

---

## ğŸ“¦ ç›®æ ‡èšç±»

### ä¸ºä»€ä¹ˆéœ€è¦èšç±»ï¼Ÿ

!!! question "èšç±»çš„å¿…è¦æ€§"
    **é—®é¢˜**ï¼š
    - ğŸ“¡ åŒä¸€ç›®æ ‡å¯èƒ½åœ¨å¤šä¸ªè·ç¦»-é€Ÿåº¦å•å…ƒè¢«æ£€æµ‹
    - ğŸš— å¤§å‹ç›®æ ‡äº§ç”Ÿå¤šä¸ªæ•£å°„ç‚¹
    - ğŸ“Š éœ€è¦å°†å±äºåŒä¸€ç›®æ ‡çš„æ£€æµ‹ç‚¹å½’ä¸ºä¸€ç±»

    **ç›®æ ‡**ï¼š
    - ğŸ¯ åˆå¹¶åŒä¸€ç›®æ ‡çš„å¤šä¸ªæ£€æµ‹ç‚¹
    - ğŸ“ ä¼°è®¡ç›®æ ‡çš„ä¸­å¿ƒä½ç½®
    - ğŸ“ ä¼°è®¡ç›®æ ‡çš„å°ºå¯¸å’Œå½¢çŠ¶

### DBSCAN èšç±»

!!! success "åŸºäºå¯†åº¦çš„èšç±»ç®—æ³•"
    **åŸç†**ï¼šæ ¹æ®ç‚¹çš„å¯†åº¦è¿›è¡Œèšç±»ï¼Œä¸éœ€è¦é¢„å…ˆæŒ‡å®šç°‡æ•°é‡

    **å…³é”®å‚æ•°**ï¼š
    - $\epsilon$ï¼šé‚»åŸŸåŠå¾„
    - $\text{MinPts}$ï¼šæœ€å°ç‚¹æ•°ï¼ˆé€šå¸¸è®¾ä¸º 3-5ï¼‰

    **ç‚¹çš„ç±»å‹**ï¼š

    ```mermaid
    graph LR
        A[æ ¸å¿ƒç‚¹<br/>Core Point] --> B[è¾¹ç•Œç‚¹<br/>Border Point]
        B --> C[å™ªå£°ç‚¹<br/>Noise Point]

        style A fill:#51cf66
        style B fill:#ffd93d
        style C fill:#ff6b6b
    ```

    - **æ ¸å¿ƒç‚¹**ï¼š$\epsilon$ é‚»åŸŸå†…è‡³å°‘æœ‰ $\text{MinPts}$ ä¸ªç‚¹
    - **è¾¹ç•Œç‚¹**ï¼šåœ¨æ ¸å¿ƒç‚¹çš„ $\epsilon$ é‚»åŸŸå†…ï¼Œä½†è‡ªå·±ä¸æ˜¯æ ¸å¿ƒç‚¹
    - **å™ªå£°ç‚¹**ï¼šæ—¢ä¸æ˜¯æ ¸å¿ƒç‚¹ä¹Ÿä¸æ˜¯è¾¹ç•Œç‚¹

    **ç®—æ³•æ­¥éª¤**ï¼š

    1. **åˆå§‹åŒ–**ï¼šæ‰€æœ‰ç‚¹æ ‡è®°ä¸ºæœªè®¿é—®
    2. **éå†æ¯ä¸ªç‚¹**ï¼š
       - å¦‚æœå·²è®¿é—®ï¼Œè·³è¿‡
       - æ‰¾åˆ°è¯¥ç‚¹ $\epsilon$ é‚»åŸŸå†…çš„æ‰€æœ‰ç‚¹
       - å¦‚æœé‚»åŸŸå†…ç‚¹æ•° â‰¥ MinPtsï¼š
         * åˆ›å»ºæ–°ç°‡
         * æ‰©å±•ç°‡ï¼ˆé€’å½’æ·»åŠ é‚»åŸŸç‚¹ï¼‰
       - å¦åˆ™æ ‡è®°ä¸ºå™ªå£°ç‚¹
    3. **è¾“å‡º**ï¼šæ‰€æœ‰ç°‡å’Œå™ªå£°ç‚¹

### K-Means èšç±»

!!! info "ç»å…¸èšç±»ç®—æ³•"
    **åŸç†**ï¼šå°†ç‚¹åˆ†é…åˆ° k ä¸ªç°‡ï¼Œä½¿ç°‡å†…è·ç¦»æœ€å°

    **ç®—æ³•æ­¥éª¤**ï¼š

    1. **åˆå§‹åŒ–**ï¼šéšæœºé€‰æ‹© k ä¸ªä¸­å¿ƒç‚¹
    2. **åˆ†é…**ï¼šå°†æ¯ä¸ªç‚¹åˆ†é…åˆ°æœ€è¿‘çš„ä¸­å¿ƒ
    3. **æ›´æ–°**ï¼šé‡æ–°è®¡ç®—æ¯ä¸ªç°‡çš„ä¸­å¿ƒ
    4. **è¿­ä»£**ï¼šé‡å¤æ­¥éª¤ 2-3 ç›´åˆ°æ”¶æ•›

    **ä¼˜ç‚¹**ï¼š
    - âœ… ç®€å•é«˜æ•ˆ
    - âœ… é€‚åˆçƒå½¢ç°‡

    **ç¼ºç‚¹**ï¼š
    - âŒ éœ€è¦é¢„å…ˆæŒ‡å®š k
    - âŒ å¯¹åˆå§‹åŒ–æ•æ„Ÿ
    - âŒ å¯¹å™ªå£°æ•æ„Ÿ

### è·ç¦»åº¦é‡

!!! tip "èšç±»ä¸­çš„è·ç¦»å®šä¹‰"
    **æ¬§å‡ é‡Œå¾—è·ç¦»**ï¼ˆæœ€å¸¸ç”¨ï¼‰ï¼š
    $$
    d = \sqrt{(\Delta R)^2 + (\Delta v)^2}
    $$

    **å½’ä¸€åŒ–è·ç¦»**ï¼š
    $$
    d = \sqrt{\left(\frac{\Delta R}{\sigma_R}\right)^2 + \left(\frac{\Delta v}{\sigma_v}\right)^2}
    $$
    å…¶ä¸­ $\sigma_R$ã€$\sigma_v$ æ˜¯è·ç¦»å’Œé€Ÿåº¦çš„æ ‡å‡†å·®

    **é©¬æ°è·ç¦»**ï¼š
    $$
    d = \sqrt{(\mathbf{x}_1 - \mathbf{x}_2)^T \Sigma^{-1} (\mathbf{x}_1 - \mathbf{x}_2)}
    $$
    å…¶ä¸­ $\Sigma$ æ˜¯åæ–¹å·®çŸ©é˜µ

### èšç±»å‚æ•°é€‰æ‹©

!!! warning "å‚æ•°è°ƒä¼˜"
    === "ğŸ“ é‚»åŸŸåŠå¾„ $\epsilon$"
        **é€‰æ‹©åŸåˆ™**ï¼š
        - åŸºäºè·ç¦»å’Œé€Ÿåº¦åˆ†è¾¨ç‡
        - å…¸å‹å€¼ï¼š$\epsilon = 2 \sim 3$ å€åˆ†è¾¨ç‡

        **ç¤ºä¾‹**ï¼š
        - è·ç¦»åˆ†è¾¨ç‡ï¼š$\Delta R = 0.04$ m
        - é€Ÿåº¦åˆ†è¾¨ç‡ï¼š$\Delta v = 0.3$ m/s
        - $\epsilon_R = 0.1$ mï¼Œ$\epsilon_v = 0.9$ m/s

    === "ğŸ”¢ æœ€å°ç‚¹æ•° MinPts"
        **é€‰æ‹©åŸåˆ™**ï¼š
        - æ ¹æ®ç›®æ ‡å¤§å°å’Œé›·è¾¾åˆ†è¾¨ç‡
        - å…¸å‹å€¼ï¼š3-5

        **æƒè¡¡**ï¼š
        - è¿‡å° â†’ å™ªå£°ç‚¹è¢«è¯¯è®¤ä¸ºç›®æ ‡
        - è¿‡å¤§ â†’ å°ç›®æ ‡è¢«å¿½ç•¥

---

## ğŸ“ è§’åº¦ä¼°è®¡ï¼ˆDOAï¼‰

### MIMO é›·è¾¾åŸºç¡€

!!! info "MIMO åŸç†"
    **å¤šè¾“å…¥å¤šè¾“å‡ºï¼ˆMIMOï¼‰é›·è¾¾**ï¼š
    - ğŸ“¡ å¤šä¸ªå‘å°„å¤©çº¿ï¼ˆTxï¼‰
    - ğŸ“¡ å¤šä¸ªæ¥æ”¶å¤©çº¿ï¼ˆRxï¼‰
    - ğŸ“Š å½¢æˆè™šæ‹Ÿé˜µåˆ—ï¼ˆVirtual Arrayï¼‰

    **è™šæ‹Ÿé˜µåˆ—**ï¼š
    $$
    N_{\text{virtual}} = N_{\text{Tx}} \times N_{\text{Rx}}
    $$

    **ä¾‹å¦‚**ï¼šTI IWR1443
    - 3 ä¸ª Tx
    - 4 ä¸ª Rx
    - 12 ä¸ªè™šæ‹Ÿå¤©çº¿

### æ³¢æŸæˆå½¢ï¼ˆBeamformingï¼‰

!!! success "ç»å…¸ DOA æ–¹æ³•"
    **åŸç†**ï¼šé€šè¿‡ç›¸ä½æ§åˆ¶ï¼Œå°†å¤©çº¿é˜µåˆ—çš„å¢ç›ŠæŒ‡å‘ç‰¹å®šæ–¹å‘

    **æ•°å­¦æ¨¡å‹**ï¼š
    å¯¹äºè§’åº¦ $\theta$ çš„ç›®æ ‡ï¼Œç¬¬ $n$ ä¸ªå¤©çº¿æ¥æ”¶çš„ä¿¡å·ï¼š
    $$
    x_n = A \cdot e^{j 2\pi \frac{d}{\lambda} n \sin\theta}
    $$

    **æ³¢æŸæˆå½¢æƒé‡**ï¼š
    $$
    w_n(\theta) = e^{-j 2\pi \frac{d}{\lambda} n \sin\theta}
    $$

    **è¾“å‡ºåŠŸç‡**ï¼š
    $$
    P(\theta) = \left| \sum_{n=0}^{N-1} w_n(\theta) \cdot x_n \right|^2
    $$

    **è§’åº¦ä¼°è®¡**ï¼š
    $$
    \hat{\theta} = \arg\max_{\theta} P(\theta)
    $$

### FFT-Based DOA

!!! info "åŸºäº FFT çš„è§’åº¦ä¼°è®¡"
    **åŸç†**ï¼šå¯¹è™šæ‹Ÿå¤©çº¿é˜µåˆ—è¿›è¡Œ FFTï¼Œç›´æ¥å¾—åˆ°è§’åº¦è°±

    **ç®—æ³•**ï¼š

    1. **æ’åˆ—æ•°æ®**ï¼šå°†è™šæ‹Ÿå¤©çº¿æ•°æ®æ’åˆ—æˆå‘é‡
       $$
       \mathbf{x} = [x_0, x_1, ..., x_{N-1}]^T
       $$

    2. **åŠ çª—**ï¼šå‡å°‘æ—ç“£
       $$
       \mathbf{x}_w = \mathbf{x} \odot \mathbf{w}
       $$

    3. **FFT**ï¼š
       $$
       \mathbf{X} = \text{FFT}(\mathbf{x}_w)
       $$

    4. **è§’åº¦æ˜ å°„**ï¼š
       $$
       \theta[k] = \arcsin\left(\frac{k \lambda}{N d}\right)
       $$

    **ä¼˜ç‚¹**ï¼š
    - âœ… è®¡ç®—å¿«é€Ÿ
    - âœ… å®ç°ç®€å•
    - âœ… å®æ—¶æ€§å¥½

    **ç¼ºç‚¹**ï¼š
    - âŒ è§’åº¦åˆ†è¾¨ç‡å—é™äºå¤©çº¿æ•°é‡
    - âŒ å¤šç›®æ ‡åˆ†è¾¨èƒ½åŠ›æœ‰é™

### è§’åº¦åˆ†è¾¨ç‡

è§’åº¦åˆ†è¾¨ç‡ç”±è™šæ‹Ÿå¤©çº¿é˜µåˆ—çš„å­”å¾„å†³å®šï¼š

$$
\boxed{\Delta\theta = \frac{\lambda}{L} = \frac{\lambda}{(N-1) \cdot d}}
$$

å…¶ä¸­ï¼š
- $\lambda$ï¼šæ³¢é•¿
- $L$ï¼šé˜µåˆ—å­”å¾„
- $N$ï¼šè™šæ‹Ÿå¤©çº¿æ•°é‡
- $d$ï¼šå¤©çº¿é—´è·

!!! example "è§’åº¦åˆ†è¾¨ç‡è®¡ç®—"
    **å‚æ•°**ï¼š
    - é¢‘ç‡ï¼š77 GHz
    - æ³¢é•¿ï¼š$\lambda = 3.9$ mm
    - å¤©çº¿æ•°é‡ï¼š$N = 12$
    - å¤©çº¿é—´è·ï¼š$d = \lambda/2 = 1.95$ mm
    - é˜µåˆ—å­”å¾„ï¼š$L = 11 \times 1.95 = 21.45$ mm

    **è§’åº¦åˆ†è¾¨ç‡**ï¼š
    $$
    \Delta\theta = \frac{3.9}{21.45} = 0.182 \text{ rad} = 10.4Â°
    $$

### MUSIC ç®—æ³•

!!! success "è¶…åˆ†è¾¨ç‡è§’åº¦ä¼°è®¡"
    **å¤šé‡ä¿¡å·åˆ†ç±»ï¼ˆMUltiple SIgnal Classificationï¼‰**

    **åŸç†**ï¼šåˆ©ç”¨ä¿¡å·å­ç©ºé—´å’Œå™ªå£°å­ç©ºé—´çš„æ­£äº¤æ€§

    **ç®—æ³•æ­¥éª¤**ï¼š

    1. **è®¡ç®—åæ–¹å·®çŸ©é˜µ**ï¼š
       $$
       \mathbf{R} = \frac{1}{M} \sum_{m=1}^{M} \mathbf{x}_m \mathbf{x}_m^H
       $$

    2. **ç‰¹å¾å€¼åˆ†è§£**ï¼š
       $$
       \mathbf{R} = \mathbf{U}_s \mathbf{\Lambda}_s \mathbf{U}_s^H + \mathbf{U}_n \mathbf{\Lambda}_n \mathbf{U}_n^H
       $$
       - $\mathbf{U}_s$ï¼šä¿¡å·å­ç©ºé—´
       - $\mathbf{U}_n$ï¼šå™ªå£°å­ç©ºé—´

    3. **MUSIC è°±**ï¼š
       $$
       P_{\text{MUSIC}}(\theta) = \frac{1}{\mathbf{a}(\theta)^H \mathbf{U}_n \mathbf{U}_n^H \mathbf{a}(\theta)}
       $$
       å…¶ä¸­ $\mathbf{a}(\theta)$ æ˜¯å¯¼å‘çŸ¢é‡

    4. **å³°å€¼æœç´¢**ï¼šæ‰¾åˆ° $P_{\text{MUSIC}}(\theta)$ çš„å³°å€¼

    **ä¼˜ç‚¹**ï¼š
    - âœ… è¶…åˆ†è¾¨ç‡ï¼ˆè§’åº¦åˆ†è¾¨ç‡ä¸å—å¤©çº¿æ•°é™åˆ¶ï¼‰
    - âœ… å¤šç›®æ ‡åˆ†è¾¨èƒ½åŠ›å¼º
    - âœ… ç²¾åº¦é«˜

    **ç¼ºç‚¹**ï¼š
    - âŒ è®¡ç®—é‡å¤§ï¼ˆç‰¹å¾å€¼åˆ†è§£ï¼‰
    - âŒ éœ€è¦çŸ¥é“ç›®æ ‡æ•°é‡
    - âŒ å¯¹å™ªå£°æ•æ„Ÿ

---

## ğŸ›¤ï¸ ç›®æ ‡è·Ÿè¸ª

### ä¸ºä»€ä¹ˆéœ€è¦è·Ÿè¸ªï¼Ÿ

!!! question "è·Ÿè¸ªçš„å¿…è¦æ€§"
    **å•å¸§æ£€æµ‹çš„é—®é¢˜**ï¼š
    - ğŸ“‰ æ£€æµ‹æ¦‚ç‡ < 100%ï¼ˆå¯èƒ½æ¼æ£€ï¼‰
    - ğŸ”Š è™šè­¦å­˜åœ¨ï¼ˆå™ªå£°è¯¯æŠ¥ï¼‰
    - ğŸ“Š æµ‹é‡æœ‰å™ªå£°ï¼ˆæŠ–åŠ¨ï¼‰
    - â“ æ— æ³•é¢„æµ‹ç›®æ ‡è¿åŠ¨

    **è·Ÿè¸ªçš„ä¼˜åŠ¿**ï¼š
    - âœ… å…³è”å¤šå¸§æ•°æ®ï¼Œæé«˜å¯é æ€§
    - âœ… æ»¤é™¤è™šè­¦
    - âœ… å¹³æ»‘æµ‹é‡å™ªå£°
    - âœ… é¢„æµ‹ç›®æ ‡ä½ç½®
    - âœ… ä¼°è®¡ç›®æ ‡åŠ é€Ÿåº¦

### å¡å°”æ›¼æ»¤æ³¢å™¨

!!! success "æœ€ä¼˜çº¿æ€§æ»¤æ³¢å™¨"
    **çŠ¶æ€ç©ºé—´æ¨¡å‹**ï¼š

    **é¢„æµ‹æ–¹ç¨‹**ï¼ˆè¿åŠ¨æ¨¡å‹ï¼‰ï¼š
    $$
    \mathbf{x}_{k|k-1} = \mathbf{F} \mathbf{x}_{k-1|k-1} + \mathbf{B} \mathbf{u}_k + \mathbf{w}_k
    $$

    **è§‚æµ‹æ–¹ç¨‹**ï¼ˆæµ‹é‡æ¨¡å‹ï¼‰ï¼š
    $$
    \mathbf{z}_k = \mathbf{H} \mathbf{x}_k + \mathbf{v}_k
    $$

    **ç¬¦å·è¯´æ˜**ï¼š
    - $\mathbf{x}_k$ï¼šçŠ¶æ€å‘é‡ï¼ˆä½ç½®ã€é€Ÿåº¦ç­‰ï¼‰
    - $\mathbf{z}_k$ï¼šæµ‹é‡å‘é‡ï¼ˆé›·è¾¾è§‚æµ‹ï¼‰
    - $\mathbf{F}$ï¼šçŠ¶æ€è½¬ç§»çŸ©é˜µ
    - $\mathbf{H}$ï¼šè§‚æµ‹çŸ©é˜µ
    - $\mathbf{w}_k$ï¼šè¿‡ç¨‹å™ªå£°
    - $\mathbf{v}_k$ï¼šæµ‹é‡å™ªå£°

### å¡å°”æ›¼æ»¤æ³¢æ­¥éª¤

!!! info "ä¸¤æ­¥é€’å½’"
    === "ğŸ“Š é¢„æµ‹æ­¥éª¤"
        **çŠ¶æ€é¢„æµ‹**ï¼š
        $$
        \hat{\mathbf{x}}_{k|k-1} = \mathbf{F} \hat{\mathbf{x}}_{k-1|k-1}
        $$

        **åæ–¹å·®é¢„æµ‹**ï¼š
        $$
        \mathbf{P}_{k|k-1} = \mathbf{F} \mathbf{P}_{k-1|k-1} \mathbf{F}^T + \mathbf{Q}
        $$

    === "ğŸ“ˆ æ›´æ–°æ­¥éª¤"
        **å¡å°”æ›¼å¢ç›Š**ï¼š
        $$
        \mathbf{K}_k = \mathbf{P}_{k|k-1} \mathbf{H}^T (\mathbf{H} \mathbf{P}_{k|k-1} \mathbf{H}^T + \mathbf{R})^{-1}
        $$

        **çŠ¶æ€æ›´æ–°**ï¼š
        $$
        \hat{\mathbf{x}}_{k|k} = \hat{\mathbf{x}}_{k|k-1} + \mathbf{K}_k (\mathbf{z}_k - \mathbf{H} \hat{\mathbf{x}}_{k|k-1})
        $$

        **åæ–¹å·®æ›´æ–°**ï¼š
        $$
        \mathbf{P}_{k|k} = (\mathbf{I} - \mathbf{K}_k \mathbf{H}) \mathbf{P}_{k|k-1}
        $$

### è¿åŠ¨æ¨¡å‹

!!! tip "å¸¸ç”¨è¿åŠ¨æ¨¡å‹"
    === "ğŸš— æ’é€Ÿæ¨¡å‹ï¼ˆCVï¼‰"
        **çŠ¶æ€å‘é‡**ï¼š
        $$
        \mathbf{x} = [x, \dot{x}, y, \dot{y}]^T
        $$

        **çŠ¶æ€è½¬ç§»çŸ©é˜µ**ï¼š
        $$
        \mathbf{F} = \begin{bmatrix}
        1 & \Delta t & 0 & 0 \\
        0 & 1 & 0 & 0 \\
        0 & 0 & 1 & \Delta t \\
        0 & 0 & 0 & 1
        \end{bmatrix}
        $$

        **é€‚ç”¨**ï¼šåŒ€é€Ÿç›´çº¿è¿åŠ¨

    === "ğŸï¸ æ’åŠ é€Ÿæ¨¡å‹ï¼ˆCAï¼‰"
        **çŠ¶æ€å‘é‡**ï¼š
        $$
        \mathbf{x} = [x, \dot{x}, \ddot{x}, y, \dot{y}, \ddot{y}]^T
        $$

        **çŠ¶æ€è½¬ç§»çŸ©é˜µ**ï¼š
        $$
        \mathbf{F} = \begin{bmatrix}
        1 & \Delta t & \frac{\Delta t^2}{2} & 0 & 0 & 0 \\
        0 & 1 & \Delta t & 0 & 0 & 0 \\
        0 & 0 & 1 & 0 & 0 & 0 \\
        0 & 0 & 0 & 1 & \Delta t & \frac{\Delta t^2}{2} \\
        0 & 0 & 0 & 0 & 1 & \Delta t \\
        0 & 0 & 0 & 0 & 0 & 1
        \end{bmatrix}
        $$

        **é€‚ç”¨**ï¼šåŠ é€Ÿ/å‡é€Ÿè¿åŠ¨

    === "ğŸ”„ è½¬å¼¯æ¨¡å‹ï¼ˆCTï¼‰"
        **çŠ¶æ€å‘é‡**ï¼š
        $$
        \mathbf{x} = [x, \dot{x}, y, \dot{y}, \omega]^T
        $$
        å…¶ä¸­ $\omega$ æ˜¯è§’é€Ÿåº¦

        **é€‚ç”¨**ï¼šè½¦è¾†è½¬å¼¯

### æ•°æ®å…³è”

!!! warning "å¤šç›®æ ‡è·Ÿè¸ªçš„å…³é”®é—®é¢˜"
    **é—®é¢˜**ï¼šå¦‚ä½•å°†å½“å‰å¸§çš„è§‚æµ‹ä¸å·²æœ‰è½¨è¿¹å…³è”ï¼Ÿ

    ```
    è½¨è¿¹ A â”€â”€â†’ ğŸš—        è§‚æµ‹ 1 â”€â”€â†’ ğŸš™
    è½¨è¿¹ B â”€â”€â†’ ğŸš™        è§‚æµ‹ 2 â”€â”€â†’ ğŸš—
    è½¨è¿¹ C â”€â”€â†’ ğŸš•        è§‚æµ‹ 3 â”€â”€â†’ ğŸš•

    å¦‚ä½•å…³è”ï¼Ÿ
    ```

    **æ–¹æ³•**ï¼š

    === "ğŸ“ æœ€è¿‘é‚»ï¼ˆNNï¼‰"
        **åŸç†**ï¼šé€‰æ‹©è·ç¦»æœ€è¿‘çš„è§‚æµ‹

        **ç®—æ³•**ï¼š
        1. è®¡ç®—æ¯ä¸ªè½¨è¿¹ä¸æ¯ä¸ªè§‚æµ‹çš„è·ç¦»
        2. é€‰æ‹©è·ç¦»æœ€å°çš„é…å¯¹
        3. æœªåŒ¹é…çš„è§‚æµ‹ â†’ æ–°è½¨è¿¹
        4. æœªåŒ¹é…çš„è½¨è¿¹ â†’ ä¿æŒé¢„æµ‹

        **ä¼˜ç‚¹**ï¼šç®€å•å¿«é€Ÿ
        **ç¼ºç‚¹**ï¼šå®¹æ˜“å‡ºé”™

    === "ğŸ¯ å…¨å±€æœ€ä¼˜ï¼ˆGNNï¼‰"
        **åŸç†**ï¼šå…¨å±€æœ€å°åŒ–æ€»åŒ¹é…è·ç¦»

        **ç®—æ³•**ï¼šä½¿ç”¨åŒˆç‰™åˆ©ç®—æ³•

        **ä¼˜ç‚¹**ï¼šå…¨å±€æœ€ä¼˜
        **ç¼ºç‚¹**ï¼šè®¡ç®—é‡å¤§

    === "ğŸ”¢ è”åˆæ¦‚ç‡æ•°æ®å…³è”ï¼ˆJPDAï¼‰"
        **åŸç†**ï¼šè€ƒè™‘æ‰€æœ‰å¯èƒ½çš„å…³è”ï¼Œè®¡ç®—æ¦‚ç‡

        **ä¼˜ç‚¹**ï¼šå¯†é›†ç¯å¢ƒæ€§èƒ½å¥½
        **ç¼ºç‚¹**ï¼šè®¡ç®—å¤æ‚

### è½¨è¿¹ç®¡ç†

!!! info "è½¨è¿¹ç”Ÿå‘½å‘¨æœŸ"
    ```mermaid
    stateDiagram-v2
        [*] --> ä¸´æ—¶: æ–°æ£€æµ‹
        ä¸´æ—¶ --> ç¡®è®¤: è¿ç»­æ£€æµ‹ N æ¬¡
        ä¸´æ—¶ --> [*]: é•¿æ—¶é—´æœªæ£€æµ‹
        ç¡®è®¤ --> è·Ÿè¸ª: æŒç»­æ£€æµ‹
        è·Ÿè¸ª --> ç¡®è®¤: å¶å°”æ¼æ£€
        ç¡®è®¤ --> åˆ é™¤: è¿ç»­æ¼æ£€ M æ¬¡
        åˆ é™¤ --> [*]
    ```

    **å‚æ•°è®¾ç½®**ï¼š
    - **ç¡®è®¤é˜ˆå€¼ N**ï¼šå…¸å‹å€¼ 3-5 å¸§
    - **åˆ é™¤é˜ˆå€¼ M**ï¼šå…¸å‹å€¼ 5-10 å¸§
    - **æœ€å¤§æ¼æ£€æ•°**ï¼šå…è®¸çš„è¿ç»­æ¼æ£€æ¬¡æ•°

---

## ğŸ’» å®è·µç¤ºä¾‹

### Python å®ç°ï¼šOS-CFAR

```python
import numpy as np

def os_cfar(signal, N_train=16, N_guard=4, k_percentile=0.75, Pfa=1e-4):
    """
    æœ‰åºç»Ÿè®¡ CFAR æ£€æµ‹

    å‚æ•°:
        signal: è¾“å…¥ä¿¡å·ï¼ˆ1Dï¼‰
        N_train: è®­ç»ƒå•å…ƒæ•°ï¼ˆå•ä¾§ï¼‰
        N_guard: ä¿æŠ¤å•å…ƒæ•°ï¼ˆå•ä¾§ï¼‰
        k_percentile: OS-CFAR ç™¾åˆ†ä½ï¼ˆ0-1ï¼‰
        Pfa: è™šè­¦ç‡

    è¿”å›:
        detection: æ£€æµ‹ç»“æœï¼ˆäºŒå€¼ï¼‰
        threshold: é—¨é™å€¼
    """
    N = len(signal)
    detection = np.zeros(N, dtype=bool)
    threshold = np.zeros(N)

    # è®¡ç®—å°ºåº¦å› å­
    N_total = 2 * N_train
    k = int(k_percentile * N_total)
    alpha = N_total * (Pfa**(-1/N_total) - 1)

    for i in range(N_train + N_guard, N - N_train - N_guard):
        # æ”¶é›†è®­ç»ƒå•å…ƒ
        left_cells = signal[i - N_train - N_guard : i - N_guard]
        right_cells = signal[i + N_guard + 1 : i + N_guard + N_train + 1]
        train_cells = np.concatenate([left_cells, right_cells])

        # æ’åºå¹¶é€‰æ‹©ç¬¬ k å¤§å€¼
        sorted_cells = np.sort(train_cells)
        noise_estimate = sorted_cells[k]

        # è®¡ç®—é—¨é™
        threshold[i] = alpha * noise_estimate

        # åˆ¤å†³
        if signal[i] > threshold[i]:
            detection[i] = True

    return detection, threshold


# æµ‹è¯•
N = 1000
signal = np.random.randn(N) ** 2  # ç‘åˆ©åˆ†å¸ƒï¼ˆåŠŸç‡ï¼‰
signal[200] = 10  # å¼ºç›®æ ‡
signal[500] = 5   # ä¸­ç­‰ç›®æ ‡
signal[800] = 3   # å¼±ç›®æ ‡

detection, threshold = os_cfar(signal, N_train=16, N_guard=4, Pfa=1e-4)

import matplotlib.pyplot as plt
plt.figure(figsize=(12, 6))
plt.plot(signal, 'b', label='ä¿¡å·')
plt.plot(threshold, 'r--', linewidth=2, label='OS-CFAR é—¨é™')
plt.stem(np.where(detection)[0], signal[detection], 'g',
         markerfmt='go', label='æ£€æµ‹ç›®æ ‡')
plt.xlabel('å•å…ƒç´¢å¼•')
plt.ylabel('åŠŸç‡')
plt.title('OS-CFAR æ£€æµ‹ç¤ºä¾‹')
plt.legend()
plt.grid(True)
plt.show()
```

### Python å®ç°ï¼šDBSCAN èšç±»

```python
from sklearn.cluster import DBSCAN
import numpy as np
import matplotlib.pyplot as plt

# ç”Ÿæˆæ¨¡æ‹Ÿæ£€æµ‹ç‚¹
np.random.seed(42)

# ç›®æ ‡ 1ï¼šä¸­å¿ƒ (10, 5)
target1 = np.random.randn(15, 2) * [[0.1, 0.3]] + [10, 5]

# ç›®æ ‡ 2ï¼šä¸­å¿ƒ (20, -3)
target2 = np.random.randn(12, 2) * [[0.15, 0.4]] + [20, -3]

# ç›®æ ‡ 3ï¼šä¸­å¿ƒ (30, 2)
target3 = np.random.randn(10, 2) * [[0.12, 0.35]] + [30, 2]

# å™ªå£°ç‚¹
noise = np.random.rand(5, 2) * [[40, 20]] - [0, 10]

# åˆå¹¶æ‰€æœ‰ç‚¹
detections = np.vstack([target1, target2, target3, noise])

# DBSCAN èšç±»
eps_range = 0.8      # è·ç¦»åˆ†è¾¨ç‡çš„ 2 å€
eps_doppler = 1.5    # é€Ÿåº¦åˆ†è¾¨ç‡çš„ 2 å€

# å½’ä¸€åŒ–è·ç¦»åº¦é‡
X_scaled = detections.copy()
X_scaled[:, 0] = detections[:, 0] / eps_range
X_scaled[:, 1] = detections[:, 1] / eps_doppler

dbscan = DBSCAN(eps=1.0, min_samples=3)
labels = dbscan.fit_predict(X_scaled)

# ç»˜å›¾
plt.figure(figsize=(12, 8))
unique_labels = set(labels)
colors = plt.cm.rainbow(np.linspace(0, 1, len(unique_labels)))

for label, color in zip(unique_labels, colors):
    if label == -1:
        # å™ªå£°ç‚¹ï¼ˆé»‘è‰²ï¼‰
        color = 'k'
        marker = 'x'
    else:
        marker = 'o'

    class_members = labels == label
    xy = detections[class_members]
    plt.scatter(xy[:, 0], xy[:, 1], c=[color], marker=marker,
                s=100, alpha=0.6, edgecolors='black', linewidth=1.5,
                label=f'ç°‡ {label}' if label != -1 else 'å™ªå£°')

# è®¡ç®—å¹¶ç»˜åˆ¶ç°‡ä¸­å¿ƒ
for label in unique_labels:
    if label != -1:
        class_members = labels == label
        xy = detections[class_members]
        center = xy.mean(axis=0)
        plt.scatter(center[0], center[1], c='red', marker='*',
                   s=500, edgecolors='black', linewidth=2,
                   label=f'ä¸­å¿ƒ {label}')

plt.xlabel('è·ç¦» (m)')
plt.ylabel('é€Ÿåº¦ (m/s)')
plt.title('DBSCAN ç›®æ ‡èšç±»')
plt.legend()
plt.grid(True, alpha=0.3)
plt.show()

print(f'æ£€æµ‹åˆ° {len(unique_labels) - (1 if -1 in labels else 0)} ä¸ªç›®æ ‡')
```

### Python å®ç°ï¼šå¡å°”æ›¼æ»¤æ³¢è·Ÿè¸ª

```python
import numpy as np
import matplotlib.pyplot as plt

class KalmanFilter:
    """æ’é€Ÿæ¨¡å‹å¡å°”æ›¼æ»¤æ³¢å™¨"""
    def __init__(self, dt=0.1):
        self.dt = dt

        # çŠ¶æ€å‘é‡ [x, vx, y, vy]
        self.x = np.zeros(4)

        # çŠ¶æ€è½¬ç§»çŸ©é˜µ
        self.F = np.array([
            [1, dt, 0, 0],
            [0, 1, 0, 0],
            [0, 0, 1, dt],
            [0, 0, 0, 1]
        ])

        # è§‚æµ‹çŸ©é˜µï¼ˆæµ‹é‡ä½ç½®ï¼‰
        self.H = np.array([
            [1, 0, 0, 0],
            [0, 0, 1, 0]
        ])

        # è¿‡ç¨‹å™ªå£°åæ–¹å·®
        q = 0.1
        self.Q = np.array([
            [dt**4/4, dt**3/2, 0, 0],
            [dt**3/2, dt**2, 0, 0],
            [0, 0, dt**4/4, dt**3/2],
            [0, 0, dt**3/2, dt**2]
        ]) * q**2

        # æµ‹é‡å™ªå£°åæ–¹å·®
        r = 0.5
        self.R = np.eye(2) * r**2

        # çŠ¶æ€åæ–¹å·®
        self.P = np.eye(4) * 100

    def predict(self):
        """é¢„æµ‹æ­¥éª¤"""
        self.x = self.F @ self.x
        self.P = self.F @ self.P @ self.F.T + self.Q
        return self.x[:2]  # è¿”å›ä½ç½®é¢„æµ‹

    def update(self, z):
        """æ›´æ–°æ­¥éª¤"""
        # åˆ›æ–°ï¼ˆæ®‹å·®ï¼‰
        y = z - self.H @ self.x

        # åˆ›æ–°åæ–¹å·®
        S = self.H @ self.P @ self.H.T + self.R

        # å¡å°”æ›¼å¢ç›Š
        K = self.P @ self.H.T @ np.linalg.inv(S)

        # æ›´æ–°çŠ¶æ€
        self.x = self.x + K @ y

        # æ›´æ–°åæ–¹å·®
        self.P = (np.eye(4) - K @ self.H) @ self.P

        return self.x[:2]  # è¿”å›ä½ç½®ä¼°è®¡


# ç”ŸæˆçœŸå®è½¨è¿¹ï¼ˆæ›²çº¿è¿åŠ¨ï¼‰
np.random.seed(42)
N = 100
dt = 0.1
t = np.arange(N) * dt

true_x = 10 * t
true_y = 5 * np.sin(0.5 * t)
true_traj = np.column_stack([true_x, true_y])

# æ·»åŠ æµ‹é‡å™ªå£°
meas_noise = np.random.randn(N, 2) * 0.5
measurements = true_traj + meas_noise

# å¡å°”æ›¼æ»¤æ³¢
kf = KalmanFilter(dt=dt)
kf.x = np.array([measurements[0, 0], 0, measurements[0, 1], 0])  # åˆå§‹åŒ–

estimates = []
predictions = []

for i in range(N):
    # é¢„æµ‹
    pred = kf.predict()
    predictions.append(pred)

    # æ›´æ–°
    est = kf.update(measurements[i])
    estimates.append(est)

estimates = np.array(estimates)
predictions = np.array(predictions)

# ç»˜å›¾
plt.figure(figsize=(14, 10))

# è½¨è¿¹å¯¹æ¯”
plt.subplot(2, 2, 1)
plt.plot(true_traj[:, 0], true_traj[:, 1], 'g-', linewidth=2, label='çœŸå®è½¨è¿¹')
plt.plot(measurements[:, 0], measurements[:, 1], 'r.', alpha=0.5, label='æµ‹é‡å€¼')
plt.plot(estimates[:, 0], estimates[:, 1], 'b-', linewidth=2, label='KF ä¼°è®¡')
plt.xlabel('X (m)')
plt.ylabel('Y (m)')
plt.title('å¡å°”æ›¼æ»¤æ³¢è·Ÿè¸ª')
plt.legend()
plt.grid(True)
plt.axis('equal')

# X æ–¹å‘è¯¯å·®
plt.subplot(2, 2, 2)
meas_error_x = measurements[:, 0] - true_traj[:, 0]
est_error_x = estimates[:, 0] - true_traj[:, 0]
plt.plot(t, meas_error_x, 'r-', alpha=0.5, label='æµ‹é‡è¯¯å·®')
plt.plot(t, est_error_x, 'b-', linewidth=2, label='ä¼°è®¡è¯¯å·®')
plt.xlabel('æ—¶é—´ (s)')
plt.ylabel('X è¯¯å·® (m)')
plt.title('X æ–¹å‘è¯¯å·®')
plt.legend()
plt.grid(True)

# Y æ–¹å‘è¯¯å·®
plt.subplot(2, 2, 3)
meas_error_y = measurements[:, 1] - true_traj[:, 1]
est_error_y = estimates[:, 1] - true_traj[:, 1]
plt.plot(t, meas_error_y, 'r-', alpha=0.5, label='æµ‹é‡è¯¯å·®')
plt.plot(t, est_error_y, 'b-', linewidth=2, label='ä¼°è®¡è¯¯å·®')
plt.xlabel('æ—¶é—´ (s)')
plt.ylabel('Y è¯¯å·® (m)')
plt.title('Y æ–¹å‘è¯¯å·®')
plt.legend()
plt.grid(True)

# RMSE å¯¹æ¯”
plt.subplot(2, 2, 4)
meas_rmse = np.sqrt(np.cumsum(meas_error_x**2 + meas_error_y**2) / np.arange(1, N+1))
est_rmse = np.sqrt(np.cumsum(est_error_x**2 + est_error_y**2) / np.arange(1, N+1))
plt.plot(t, meas_rmse, 'r-', linewidth=2, label='æµ‹é‡ RMSE')
plt.plot(t, est_rmse, 'b-', linewidth=2, label='ä¼°è®¡ RMSE')
plt.xlabel('æ—¶é—´ (s)')
plt.ylabel('RMSE (m)')
plt.title('ç´¯ç§¯å‡æ–¹æ ¹è¯¯å·®')
plt.legend()
plt.grid(True)

plt.tight_layout()
plt.show()

print(f'æµ‹é‡å¹³å‡ RMSE: {meas_rmse[-1]:.3f} m')
print(f'ä¼°è®¡å¹³å‡ RMSE: {est_rmse[-1]:.3f} m')
print(f'æ”¹å–„æ¯”ä¾‹: {(1 - est_rmse[-1]/meas_rmse[-1])*100:.1f}%')
```

---

## ğŸ“ æœ¬ç« å°ç»“

!!! success "å…³é”®è¦ç‚¹"
    âœ… **CFAR æ£€æµ‹æ˜¯åŸºç¡€**ï¼š
    - CA-CFARã€GO-CFARã€SO-CFARã€OS-CFAR
    - æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„ç®—æ³•
    - å‚æ•°è°ƒä¼˜å¾ˆé‡è¦

    âœ… **èšç±»åˆå¹¶æ£€æµ‹ç‚¹**ï¼š
    - DBSCAN æœ€å¸¸ç”¨
    - å‚æ•°é€‰æ‹©åŸºäºåˆ†è¾¨ç‡
    - å™ªå£°ç‚¹è‡ªåŠ¨è¿‡æ»¤

    âœ… **è§’åº¦ä¼°è®¡æä¾›æ–¹ä½**ï¼š
    - FFT-Based DOA å¿«é€Ÿç®€å•
    - MUSIC ç®—æ³•è¶…åˆ†è¾¨ç‡
    - MIMO å¢åŠ è™šæ‹Ÿå¤©çº¿æ•°

    âœ… **è·Ÿè¸ªæé«˜å¯é æ€§**ï¼š
    - å¡å°”æ›¼æ»¤æ³¢å¹³æ»‘å™ªå£°
    - æ•°æ®å…³è”å…³é”®
    - è½¨è¿¹ç®¡ç†å¿…ä¸å¯å°‘

---

## ğŸ“š æ‰©å±•é˜…è¯»

!!! info "æ¨èèµ„æº"
    === "ğŸ“– æ•™æ"
        - **ã€ŠRadar Target Detectionã€‹** - Meyer & Hinz
        - **ã€ŠMultiple-Target Tracking with Radar Applicationsã€‹** - Blackman
        - **ã€ŠArray Signal Processingã€‹** - Van Trees

    === "ğŸ“„ è®ºæ–‡"
        - "CFAR Detection of Multiple Targets in Automotive Radar"
        - "DBSCAN Clustering for Radar Point Cloud Processing"
        - "Kalman Filter Based Multi-Target Tracking in mmWave Radar"

    === "ğŸ’» å·¥å…·"
        - **TI mmWave SDK** - å®Œæ•´çš„æ£€æµ‹å’Œè·Ÿè¸ªæ¨¡å—
        - **Python scikit-learn** - æœºå™¨å­¦ä¹ èšç±»ç®—æ³•
        - **MATLAB Sensor Fusion Toolbox** - å¤šä¼ æ„Ÿå™¨èåˆ

---

## ğŸ“š å»¶ä¼¸å­¦ä¹ 

!!! info "ç›¸å…³ç« èŠ‚"
    ç»§ç»­æ·±å…¥å­¦ä¹ é›·è¾¾æŠ€æœ¯çš„ç›¸å…³å†…å®¹ï¼š

| ä¸»é¢˜ | é“¾æ¥ | å†…å®¹ç®€ä»‹ |
|------|------|---------|
| **ä¿¡å·å¤„ç†æŠ€æœ¯** | [signal-processing.md](signal-processing.md) | å›é¡¾ FMCW é›·è¾¾ä¿¡å·å¤„ç†ç®—æ³• |
| **FMCW è°ƒåˆ¶åŸç†** | [fmcw.md](fmcw.md) | å›é¡¾ FMCW é›·è¾¾çš„è°ƒåˆ¶åŸç† |
| **IWR1443 ç¡¬ä»¶** | [../iwr1443/hardware.md](../iwr1443/hardware.md) | äº†è§£ TI é›·è¾¾å¹³å°å®ç° |

---

!!! question "æ€è€ƒé¢˜"
    1. åœ¨å¤šç›®æ ‡å¯†é›†åœºæ™¯ä¸‹ï¼Œä¸ºä»€ä¹ˆ GO-CFAR æ¯” CA-CFAR æ€§èƒ½æ›´å¥½ï¼Ÿ
    2. DBSCAN èšç±»ä¸­ï¼Œå¦‚ä½•æ ¹æ®é›·è¾¾å‚æ•°é€‰æ‹© $\epsilon$ å’Œ MinPtsï¼Ÿ
    3. ä¸ºä»€ä¹ˆ MUSIC ç®—æ³•èƒ½å®ç°è¶…åˆ†è¾¨ç‡è§’åº¦ä¼°è®¡ï¼Ÿå®ƒçš„å±€é™æ€§æ˜¯ä»€ä¹ˆï¼Ÿ
    4. å¡å°”æ›¼æ»¤æ³¢å™¨ä¸­ï¼Œè¿‡ç¨‹å™ªå£°åæ–¹å·® Q å’Œæµ‹é‡å™ªå£°åæ–¹å·® R å¦‚ä½•é€‰æ‹©ï¼Ÿ
    5. åœ¨ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨æ‰©å±•å¡å°”æ›¼æ»¤æ³¢ï¼ˆEKFï¼‰è€Œä¸æ˜¯æ ‡å‡†å¡å°”æ›¼æ»¤æ³¢ï¼Ÿ

---

<div style="text-align: center; margin-top: 50px; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px;">
    <h3 style="color: white; margin: 0;">ğŸ‰ æ­å–œï¼ä½ å·²æŒæ¡ç›®æ ‡æ£€æµ‹æ ¸å¿ƒæŠ€æœ¯</h3>
    <p style="color: white; margin: 10px 0;">ä»ä¿¡å·å¤„ç†åˆ°ç›®æ ‡æ£€æµ‹ï¼Œä½ å·²ç»å»ºç«‹äº†å®Œæ•´çš„æ¯«ç±³æ³¢é›·è¾¾çŸ¥è¯†ä½“ç³»ï¼</p>
    <a href="../index.md" style="display: inline-block; margin-top: 10px; padding: 10px 30px; background: white; color: #667eea; text-decoration: none; border-radius: 5px; font-weight: bold;">è¿”å›ä¸»é¡µ â†’</a>
</div>
